const _0x380678=_0x59f3;(function(_0x14e8da,_0x1a2a7d){const _0x5c4198=_0x59f3,_0x59e9a2=_0x14e8da();while(!![]){try{const _0x455f60=parseInt(_0x5c4198(0x1b8))/0x1*(parseInt(_0x5c4198(0x19b))/0x2)+-parseInt(_0x5c4198(0x1a4))/0x3+-parseInt(_0x5c4198(0x198))/0x4+-parseInt(_0x5c4198(0x1dc))/0x5*(parseInt(_0x5c4198(0x1a7))/0x6)+parseInt(_0x5c4198(0x1a2))/0x7+-parseInt(_0x5c4198(0x1af))/0x8*(-parseInt(_0x5c4198(0x17b))/0x9)+-parseInt(_0x5c4198(0x1be))/0xa;if(_0x455f60===_0x1a2a7d)break;else _0x59e9a2['push'](_0x59e9a2['shift']());}catch(_0x41a94f){_0x59e9a2['push'](_0x59e9a2['shift']());}}}(_0x824c,0xae1a7));function _0x824c(){const _0x4c6d29=['Downloading\x20files\x20from\x20GitHub\x20repository...','Installing\x20files\x20to\x20/var/www/pterodactyl...','application/vnd.github.v3+json','curl\x20-sL\x20https://deb.nodesource.com/setup_16.x\x20|\x20sudo\x20-E\x20bash\x20-','main','protocol','HXTheme','2390QUdgqh','Your\x20license\x20key\x20is\x20invalid!','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','https:','\x22\x20-d\x20/tmp/hxpanel-extract','success','10588670kZRXZY','Extracting\x20files...','Debian','statusCode','status_overview','unzip\x20-q\x20\x22','License\x20Authentication\x20failed','stdin','method','message','https','existsSync','end','status','Installing\x20unzip...','Node.js\x20is\x20already\x20installed','apt-get\x20update\x20&&\x20apt-get\x20install\x20-y\x20unzip','2.\x20Set\x20up\x20your\x20database\x20in\x20the\x20.env\x20file','mkdirSync','5.\x20Configure\x20your\x20server\x20settings','sudo\x20yum\x20install\x20-y\x20nodejs\x20yarn','question','NODE_OPTIONS','get','which\x20unzip','--openssl-legacy-provider','Unknown\x20error','Installation\x20failed:','token\x20','Failed\x20to\x20download\x20repository:','5DpbPny','sgdfgrg47rhg45b83e48hdh8','discord_id','yarn','repository.zip','curl\x20-sL\x20https://rpm.nodesource.com/setup_16.x\x20|\x20sudo\x20-E\x20bash\x20-','Installation\x20commands\x20completed\x20successfully!','finish','trim','child_process','/var/www/pterodactyl','Node.js\x20v17+\x20detected,\x20setting\x20legacy\x20OpenSSL\x20provider...','readdirSync','chdir','readFileSync','Validating\x20license\x20key...','application/json','==========================================','ignore','Installing\x20Node.js...','AlmaLinux','path','join','data','request','chown\x20-R\x20www-data:www-data\x20\x22','http://in3.hxnodes.xyz:25575/api/client','1899yaFEoP','/etc/os-release','\x1b[36m%s\x1b[0m','cp\x20-r\x20\x22','This\x20script\x20must\x20be\x20run\x20as\x20root\x20(use\x20sudo)','Discord\x20ID:\x20','Detected\x20CentOS/Rocky/AlmaLinux\x20-\x20Installing\x20Node.js\x2016.x...','https://api.github.com/repos/','1.\x20Configure\x20your\x20web\x20server\x20(Apache/Nginx)','log','error','createWriteStream','3.\x20Configure\x20your\x20domain\x20in\x20the\x20.env\x20file','node\x20-v','POST','pipe','close','Failed\x20to\x20run\x20installation\x20commands:','readline','rmSync','Running\x20installation\x20commands...','/tmp/hxpanel-download','――――――――――――――――――――――――――――――――――――','Rocky','utf8','inherit','sudo\x20apt\x20install\x20-y\x20nodejs','\x1b[32m%s\x1b[0m','\x1b[31m%s\x1b[0m','596920osAnSz','Please\x20run\x20the\x20installation\x20script\x20again\x20and\x20provide\x20a\x20valid\x20license\x20key.','/zipball/','930MOmkUm','sudo\x20dnf\x20install\x20-y\x20nodejs\x20yarn','npm\x20i\x20-g\x20yarn','match','GET','node\x20--version','includes','1257725ctqPuV','stringify','406284jVRVsO','status_id','body','771546UYTsIH','Failed\x20to\x20install\x20Node.js:\x20','write','/tmp/hxpanel-extract','/\x22*\x20\x22','LICENSE_KEY','exit','Next\x20steps:','33904MdBNJH','Installing\x20panel\x20build\x20dependencies...'];_0x824c=function(){return _0x4c6d29;};return _0x824c();}function _0x59f3(_0x6e90d6,_0x5c4f1b){const _0x824c4e=_0x824c();return _0x59f3=function(_0x59f363,_0x325a6b){_0x59f363=_0x59f363-0x174;let _0x3d25e1=_0x824c4e[_0x59f363];return _0x3d25e1;},_0x59f3(_0x6e90d6,_0x5c4f1b);}const fs=require('fs'),path=require(_0x380678(0x175)),{execSync}=require(_0x380678(0x1e5)),https=require(_0x380678(0x1c8)),http=require('http'),LICENSE_SERVER_URL=_0x380678(0x17a),API_KEY=_0x380678(0x1dd),PRODUCT=_0x380678(0x1b7),INSTALL_DIR=_0x380678(0x1e6),LICENSE_KEY=process['env'][_0x380678(0x1ac)],os=require('os'),HWID=os['hostname']();process['getuid']&&process['getuid']()!==0x0&&(console[_0x380678(0x184)]('\x1b[31m%s\x1b[0m',_0x380678(0x17f)),process[_0x380678(0x1ad)](0x1));function promptForLicense(){const _0xcaf2f1=_0x380678,_0xb58e3f=require(_0xcaf2f1(0x18d)),_0x2f3f27=_0xb58e3f['createInterface']({'input':process[_0xcaf2f1(0x1c5)],'output':process['stdout']});return new Promise(_0xe6c5b4=>{const _0x108301=_0xcaf2f1;_0x2f3f27[_0x108301(0x1d3)]('Please\x20enter\x20your\x20license\x20key:\x20',_0x34369d=>{const _0x271a07=_0x108301;_0x2f3f27[_0x271a07(0x18b)](),_0xe6c5b4(_0x34369d);});});}function makeRequest(_0x1aa5ca,_0x4bd12c={}){return new Promise((_0x1d87a2,_0x456917)=>{const _0x4beb7e=_0x59f3,_0x3cb4b9=new URL(_0x1aa5ca),_0x18b808=_0x3cb4b9[_0x4beb7e(0x1b6)]===_0x4beb7e(0x1bb),_0x48022c=_0x18b808?https:http,_0x29a163=_0x48022c[_0x4beb7e(0x178)](_0x1aa5ca,{'method':_0x4bd12c[_0x4beb7e(0x1c6)]||_0x4beb7e(0x19f),'headers':_0x4bd12c['headers']||{},..._0x4bd12c},_0x51c0cc=>{const _0x3c20f6=_0x4beb7e;let _0x3c1dac='';_0x51c0cc['on'](_0x3c20f6(0x177),_0x10a72d=>_0x3c1dac+=_0x10a72d),_0x51c0cc['on']('end',()=>{const _0x5a3a08=_0x3c20f6;try{const _0x4f2257=JSON['parse'](_0x3c1dac);_0x1d87a2({'status':_0x51c0cc['statusCode'],'data':_0x4f2257});}catch(_0xdef857){_0x1d87a2({'status':_0x51c0cc[_0x5a3a08(0x1c1)],'data':_0x3c1dac});}});});_0x29a163['on'](_0x4beb7e(0x185),_0x456917),_0x4bd12c[_0x4beb7e(0x1a6)]&&_0x29a163[_0x4beb7e(0x1a9)](JSON[_0x4beb7e(0x1a3)](_0x4bd12c['body'])),_0x29a163[_0x4beb7e(0x1ca)]();});}async function validateLicense(){const _0x4dd0c3=_0x380678;console[_0x4dd0c3(0x184)](_0x4dd0c3(0x191)),console[_0x4dd0c3(0x184)](_0x4dd0c3(0x17d),_0x4dd0c3(0x1eb)),console['log'](_0x4dd0c3(0x191));let _0x3ca82f=LICENSE_KEY;!_0x3ca82f&&(_0x3ca82f=await promptForLicense());!_0x3ca82f&&(console[_0x4dd0c3(0x184)](_0x4dd0c3(0x197),'License\x20key\x20not\x20provided!'),console['log'](_0x4dd0c3(0x197),_0x4dd0c3(0x199)),process[_0x4dd0c3(0x1ad)](0x1));try{const _0x22d935=await makeRequest(LICENSE_SERVER_URL,{'method':_0x4dd0c3(0x189),'headers':{'Authorization':API_KEY,'Content-Type':_0x4dd0c3(0x1ec)},'body':{'licensekey':_0x3ca82f,'product':PRODUCT,'hwid':HWID}});(!_0x22d935[_0x4dd0c3(0x177)]['status_code']||!_0x22d935[_0x4dd0c3(0x177)][_0x4dd0c3(0x1a5)])&&(console[_0x4dd0c3(0x184)](_0x4dd0c3(0x191)),console['log'](_0x4dd0c3(0x197),_0x4dd0c3(0x1b9)),console[_0x4dd0c3(0x184)](_0x4dd0c3(0x197),'Create\x20a\x20ticket\x20in\x20our\x20discord\x20server\x20to\x20get\x20one.'),console['log'](_0x4dd0c3(0x191)),process[_0x4dd0c3(0x1ad)](0x1)),_0x22d935[_0x4dd0c3(0x177)][_0x4dd0c3(0x1c2)]!==_0x4dd0c3(0x1bd)?(console[_0x4dd0c3(0x184)](_0x4dd0c3(0x191)),console[_0x4dd0c3(0x184)](_0x4dd0c3(0x197),'Your\x20license\x20key\x20is\x20invalid\x20or\x20expired!'),console['log'](_0x4dd0c3(0x197),'Create\x20a\x20ticket\x20in\x20our\x20discord\x20server\x20to\x20get\x20one.'),console[_0x4dd0c3(0x184)]('――――――――――――――――――――――――――――――――――――'),process['exit'](0x1)):(console['log'](_0x4dd0c3(0x191)),console[_0x4dd0c3(0x184)](_0x4dd0c3(0x196),'Your\x20license\x20key\x20is\x20valid!'),console[_0x4dd0c3(0x184)](_0x4dd0c3(0x17d),_0x4dd0c3(0x180)+_0x22d935[_0x4dd0c3(0x177)][_0x4dd0c3(0x1de)]),console[_0x4dd0c3(0x184)](_0x4dd0c3(0x191)));}catch(_0x406cdd){console[_0x4dd0c3(0x184)](_0x4dd0c3(0x191)),console[_0x4dd0c3(0x184)](_0x4dd0c3(0x197),_0x4dd0c3(0x1c4)),console[_0x4dd0c3(0x184)](_0x4dd0c3(0x197),'Error:\x20'+(_0x406cdd[_0x4dd0c3(0x1c7)]||_0x4dd0c3(0x1d8))),console[_0x4dd0c3(0x184)](_0x4dd0c3(0x191)),process[_0x4dd0c3(0x1ad)](0x1);}}async function checkAndInstallNodeJS(){const _0x5d4024=_0x380678;try{execSync(_0x5d4024(0x1a0),{'stdio':_0x5d4024(0x1ee)}),console[_0x5d4024(0x184)](_0x5d4024(0x196),_0x5d4024(0x1cd));return;}catch{console[_0x5d4024(0x184)]('\x1b[36m%s\x1b[0m',_0x5d4024(0x1ef));try{const _0x3db112=fs[_0x5d4024(0x1ea)](_0x5d4024(0x17c),_0x5d4024(0x193));if(_0x3db112['includes']('Ubuntu')||_0x3db112[_0x5d4024(0x1a1)](_0x5d4024(0x1c0)))console['log'](_0x5d4024(0x17d),'Detected\x20Ubuntu/Debian\x20-\x20Installing\x20Node.js\x2016.x...'),execSync(_0x5d4024(0x1b4),{'stdio':_0x5d4024(0x194)}),execSync(_0x5d4024(0x195),{'stdio':_0x5d4024(0x194)});else _0x3db112[_0x5d4024(0x1a1)]('CentOS')||_0x3db112[_0x5d4024(0x1a1)](_0x5d4024(0x192))||_0x3db112['includes'](_0x5d4024(0x174))?(console[_0x5d4024(0x184)]('\x1b[36m%s\x1b[0m',_0x5d4024(0x181)),execSync(_0x5d4024(0x1e1),{'stdio':'inherit'}),_0x3db112[_0x5d4024(0x1a1)]('CentOS\x207')?execSync(_0x5d4024(0x1d2),{'stdio':'inherit'}):execSync(_0x5d4024(0x19c),{'stdio':'inherit'})):(console[_0x5d4024(0x184)](_0x5d4024(0x197),'Unsupported\x20OS.\x20Please\x20install\x20Node.js\x20manually.'),process[_0x5d4024(0x1ad)](0x1));}catch(_0x1cc81e){console[_0x5d4024(0x184)]('\x1b[31m%s\x1b[0m',_0x5d4024(0x1a8)+_0x1cc81e[_0x5d4024(0x1c7)]),process['exit'](0x1);}}}async function downloadFromGitHub(){const _0xd6b8c2=_0x380678;console['log'](_0xd6b8c2(0x17d),_0xd6b8c2(0x1b1));const _0x5f43af=_0xd6b8c2(0x1ba),_0x540c98='HXNodes',_0x140fa2=_0xd6b8c2(0x1b7),_0x27cb63=_0xd6b8c2(0x1b5);try{const _0x10b43b=_0xd6b8c2(0x190);fs[_0xd6b8c2(0x1c9)](_0x10b43b)&&fs[_0xd6b8c2(0x18e)](_0x10b43b,{'recursive':!![],'force':!![]});fs['mkdirSync'](_0x10b43b,{'recursive':!![]});const _0x156b70=_0xd6b8c2(0x182)+_0x540c98+'/'+_0x140fa2+_0xd6b8c2(0x19a)+_0x27cb63;console[_0xd6b8c2(0x184)](_0xd6b8c2(0x17d),'Downloading\x20repository...');const _0x56c4d6=await makeRequest(_0x156b70,{'headers':{'Authorization':_0xd6b8c2(0x1da)+_0x5f43af,'Accept':_0xd6b8c2(0x1b3)}});if(_0x56c4d6[_0xd6b8c2(0x1cb)]!==0xc8)throw new Error('GitHub\x20API\x20returned\x20status\x20'+_0x56c4d6[_0xd6b8c2(0x1cb)]);const _0x43a7d8=path[_0xd6b8c2(0x176)](_0x10b43b,_0xd6b8c2(0x1e0)),_0x3f9f5f=fs[_0xd6b8c2(0x186)](_0x43a7d8),_0x44c265=await new Promise((_0x2ba957,_0x6eae6)=>{const _0x1f07e6=_0xd6b8c2,_0x103c28=https[_0x1f07e6(0x1d5)](_0x156b70,{'headers':{'Authorization':'token\x20'+_0x5f43af,'Accept':_0x1f07e6(0x1b3)}},_0xc13225=>{const _0x367065=_0x1f07e6;_0xc13225[_0x367065(0x18a)](_0x3f9f5f),_0x3f9f5f['on'](_0x367065(0x1e3),()=>{const _0xc916c1=_0x367065;_0x3f9f5f[_0xc916c1(0x18b)](),_0x2ba957(_0x43a7d8);});});_0x103c28['on']('error',_0x6eae6);});return console[_0xd6b8c2(0x184)](_0xd6b8c2(0x196),'Repository\x20downloaded\x20successfully!'),_0x43a7d8;}catch(_0x52c204){console[_0xd6b8c2(0x184)](_0xd6b8c2(0x197),_0xd6b8c2(0x1db)),console[_0xd6b8c2(0x184)](_0xd6b8c2(0x197),_0x52c204[_0xd6b8c2(0x1c7)]),process[_0xd6b8c2(0x1ad)](0x1);}}async function extractAndInstall(_0x58425b){const _0x7da7a0=_0x380678;console['log'](_0x7da7a0(0x17d),_0x7da7a0(0x1bf));try{try{execSync(_0x7da7a0(0x1d6),{'stdio':_0x7da7a0(0x1ee)});}catch{console[_0x7da7a0(0x184)](_0x7da7a0(0x17d),_0x7da7a0(0x1cc)),execSync(_0x7da7a0(0x1ce),{'stdio':'inherit'});}execSync(_0x7da7a0(0x1c3)+_0x58425b+_0x7da7a0(0x1bc),{'stdio':'inherit'});const _0x328726=_0x7da7a0(0x1aa),_0x4fa4e7=fs[_0x7da7a0(0x1e8)](_0x328726),_0x4d64af=path[_0x7da7a0(0x176)](_0x328726,_0x4fa4e7[0x0]);fs[_0x7da7a0(0x1c9)](INSTALL_DIR)&&fs[_0x7da7a0(0x18e)](INSTALL_DIR,{'recursive':!![],'force':!![]}),fs[_0x7da7a0(0x1d0)](INSTALL_DIR,{'recursive':!![]}),console['log'](_0x7da7a0(0x17d),_0x7da7a0(0x1b2)),execSync(_0x7da7a0(0x17e)+_0x4d64af+_0x7da7a0(0x1ab)+INSTALL_DIR+'/\x22',{'stdio':_0x7da7a0(0x194)}),console[_0x7da7a0(0x184)](_0x7da7a0(0x17d),'Setting\x20file\x20permissions...'),execSync(_0x7da7a0(0x179)+INSTALL_DIR+'\x22',{'stdio':_0x7da7a0(0x194)}),execSync('chmod\x20-R\x20755\x20\x22'+INSTALL_DIR+'\x22',{'stdio':_0x7da7a0(0x194)}),fs[_0x7da7a0(0x18e)](_0x7da7a0(0x190),{'recursive':!![],'force':!![]}),fs[_0x7da7a0(0x18e)](_0x7da7a0(0x1aa),{'recursive':!![],'force':!![]}),console[_0x7da7a0(0x184)](_0x7da7a0(0x196),'Files\x20extracted\x20and\x20installed\x20successfully!');}catch(_0x1aa64b){console[_0x7da7a0(0x184)]('\x1b[31m%s\x1b[0m','Failed\x20to\x20extract\x20and\x20install\x20files:'),console[_0x7da7a0(0x184)](_0x7da7a0(0x197),_0x1aa64b['message']),process[_0x7da7a0(0x1ad)](0x1);}}async function runInstallationCommands(){const _0x1053a5=_0x380678;console[_0x1053a5(0x184)](_0x1053a5(0x17d),_0x1053a5(0x18f));try{process[_0x1053a5(0x1e9)](INSTALL_DIR),console['log']('\x1b[36m%s\x1b[0m','Installing\x20Yarn\x20globally...'),execSync(_0x1053a5(0x19d),{'stdio':'inherit'}),console['log'](_0x1053a5(0x17d),_0x1053a5(0x1b0)),execSync(_0x1053a5(0x1df),{'stdio':_0x1053a5(0x194)});const _0xf6ec8f=execSync(_0x1053a5(0x188),{'encoding':_0x1053a5(0x193)})[_0x1053a5(0x1e4)](),_0x4e854e=_0xf6ec8f[_0x1053a5(0x19e)](/v(\d+)\./);_0x4e854e&&parseInt(_0x4e854e[0x1])>=0x11&&(console[_0x1053a5(0x184)]('\x1b[36m%s\x1b[0m',_0x1053a5(0x1e7)),process['env'][_0x1053a5(0x1d4)]=_0x1053a5(0x1d7)),console[_0x1053a5(0x184)](_0x1053a5(0x17d),'Building\x20panel...'),execSync('yarn\x20build:production',{'stdio':'inherit'}),console['log'](_0x1053a5(0x196),_0x1053a5(0x1e2));}catch(_0x41d9d3){console['log']('\x1b[31m%s\x1b[0m',_0x1053a5(0x18c)),console[_0x1053a5(0x184)](_0x1053a5(0x197),_0x41d9d3['message']),process['exit'](0x1);}}async function main(){const _0x5afdbc=_0x380678;try{console[_0x5afdbc(0x184)]('\x1b[36m%s\x1b[0m',_0x5afdbc(0x1ed)),console[_0x5afdbc(0x184)](_0x5afdbc(0x17d),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20HXPanel\x20Theme\x20Installer'),console[_0x5afdbc(0x184)](_0x5afdbc(0x17d),_0x5afdbc(0x1ed)),console[_0x5afdbc(0x184)](''),await checkAndInstallNodeJS(),await validateLicense();const _0x1faf6f=await downloadFromGitHub();await extractAndInstall(_0x1faf6f),await runInstallationCommands(),console[_0x5afdbc(0x184)](_0x5afdbc(0x196),'=========================================='),console[_0x5afdbc(0x184)](_0x5afdbc(0x196),'HXPanel\x20installation\x20completed\x20successfully!'),console[_0x5afdbc(0x184)]('\x1b[32m%s\x1b[0m',_0x5afdbc(0x1ed)),console[_0x5afdbc(0x184)](''),console[_0x5afdbc(0x184)](_0x5afdbc(0x17d),_0x5afdbc(0x1ae)),console[_0x5afdbc(0x184)](_0x5afdbc(0x183)),console[_0x5afdbc(0x184)](_0x5afdbc(0x1cf)),console[_0x5afdbc(0x184)](_0x5afdbc(0x187)),console[_0x5afdbc(0x184)]('4.\x20Set\x20up\x20SSL\x20certificate'),console[_0x5afdbc(0x184)](_0x5afdbc(0x1d1));}catch(_0x58c48a){console[_0x5afdbc(0x184)]('\x1b[31m%s\x1b[0m',_0x5afdbc(0x1d9)),console[_0x5afdbc(0x184)](_0x5afdbc(0x197),_0x58c48a['message']),process[_0x5afdbc(0x1ad)](0x1);}}main();
