const _0x3a2a2e=_0x454e;(function(_0x33bb68,_0x2f0577){const _0x3c8081=_0x454e,_0x58d120=_0x33bb68();while(!![]){try{const _0x3587ea=-parseInt(_0x3c8081(0x151))/0x1*(-parseInt(_0x3c8081(0x1bf))/0x2)+parseInt(_0x3c8081(0x19e))/0x3*(-parseInt(_0x3c8081(0x164))/0x4)+-parseInt(_0x3c8081(0x1b9))/0x5*(parseInt(_0x3c8081(0x165))/0x6)+parseInt(_0x3c8081(0x1a4))/0x7+-parseInt(_0x3c8081(0x1c5))/0x8+-parseInt(_0x3c8081(0x1b0))/0x9+parseInt(_0x3c8081(0x1c6))/0xa;if(_0x3587ea===_0x2f0577)break;else _0x58d120['push'](_0x58d120['shift']());}catch(_0x58867a){_0x58d120['push'](_0x58d120['shift']());}}}(_0x5621,0x622cc));const fs=require('fs'),path=require(_0x3a2a2e(0x183)),{execSync}=require(_0x3a2a2e(0x171)),https=require(_0x3a2a2e(0x16d)),http=require(_0x3a2a2e(0x1a2)),LICENSE_SERVER_URL=_0x3a2a2e(0x1ba),API_KEY='sgdfgrg47rhg45b83e48hdh8',PRODUCT=_0x3a2a2e(0x175),INSTALL_DIR=_0x3a2a2e(0x15a);let LICENSE_KEY=process[_0x3a2a2e(0x1b8)][_0x3a2a2e(0x193)];function readLicenseFromEnvFile(){const _0x39e8ea=_0x3a2a2e;try{const _0x33b271=_0x39e8ea(0x14e);if(fs[_0x39e8ea(0x196)](_0x33b271)){const _0x52d25d=fs['readFileSync'](_0x33b271,_0x39e8ea(0x16e)),_0x5a82da=_0x52d25d[_0x39e8ea(0x1aa)](/LICENSE_KEY\s*=\s*["']?([^"\r\n]+)["']?/i);if(_0x5a82da&&_0x5a82da[0x1])return _0x5a82da[0x1][_0x39e8ea(0x1c1)]();}}catch(_0x3967cf){console['log']('\x1b[33m%s\x1b[0m',_0x39e8ea(0x1bd)+_0x3967cf[_0x39e8ea(0x16b)]);}return null;}!LICENSE_KEY&&(LICENSE_KEY=readLicenseFromEnvFile());const os=require('os'),HWID=os[_0x3a2a2e(0x162)]();process[_0x3a2a2e(0x174)]&&process[_0x3a2a2e(0x174)]()!==0x0&&(console[_0x3a2a2e(0x153)](_0x3a2a2e(0x1b7),_0x3a2a2e(0x145)),process[_0x3a2a2e(0x1a8)](0x1));function promptForLicense(){const _0x3383a2=require('readline'),_0x4645a6=_0x3383a2['createInterface']({'input':process['stdin'],'output':process['stdout']});return new Promise(_0x31e63a=>{const _0x4806f0=_0x454e;_0x4645a6[_0x4806f0(0x18c)](_0x4806f0(0x1c7),_0x401e10=>{const _0x5e538d=_0x4806f0;_0x4645a6[_0x5e538d(0x1b2)](),_0x31e63a(_0x401e10['trim']());}),setTimeout(()=>{const _0x3cfa1c=_0x4806f0;_0x4645a6[_0x3cfa1c(0x1b2)](),_0x31e63a('');},0x7530);});}function makeRequest(_0x1bf609,_0x47c309={}){return new Promise((_0x2f20c2,_0x39d5b4)=>{const _0x548fbd=_0x454e,_0x457c94=new URL(_0x1bf609),_0x1f57f9=_0x457c94[_0x548fbd(0x1a9)]==='https:',_0x268c78=_0x1f57f9?https:http,_0x52b57d=_0x268c78['request'](_0x1bf609,{'method':_0x47c309[_0x548fbd(0x1a6)]||_0x548fbd(0x1b3),'headers':_0x47c309[_0x548fbd(0x185)]||{},..._0x47c309},_0x590036=>{const _0x3a7990=_0x548fbd;let _0x42014d='';_0x590036['on'](_0x3a7990(0x18b),_0x335390=>_0x42014d+=_0x335390),_0x590036['on'](_0x3a7990(0x14f),()=>{const _0x204b32=_0x3a7990;try{const _0x3b97da=JSON['parse'](_0x42014d);_0x2f20c2({'status':_0x590036[_0x204b32(0x18a)],'data':_0x3b97da});}catch(_0x149f7c){_0x2f20c2({'status':_0x590036[_0x204b32(0x18a)],'data':_0x42014d});}});});_0x52b57d['on'](_0x548fbd(0x1b1),_0x39d5b4),_0x47c309[_0x548fbd(0x168)]&&_0x52b57d[_0x548fbd(0x195)](JSON[_0x548fbd(0x147)](_0x47c309[_0x548fbd(0x168)])),_0x52b57d[_0x548fbd(0x14f)]();});}function _0x5621(){const _0x1e992f=['apt-get\x20update\x20&&\x20apt-get\x20install\x20-y\x20unzip','687645yEzMiz','error','close','GET','Discord\x20ID:\x20','Building\x20panel...','node\x20-v','\x1b[31m%s\x1b[0m','env','1265aKXiag','http://in3.hxnodes.xyz:25575/api/client','curl\x20-sL\x20https://rpm.nodesource.com/setup_16.x\x20|\x20sudo\x20-E\x20bash\x20-','cp\x20-r\x20\x22','Warning:\x20Could\x20not\x20read\x20.env\x20file:\x20','==========================================','2XxrMmt','License\x20Authentication\x20failed','trim','chdir','――――――――――――――――――――――――――――――――――――','createWriteStream','2772344ynRQHt','12954270wvmnLg','Please\x20enter\x20your\x20license\x20key:\x20','--openssl-legacy-provider','rmSync','This\x20script\x20must\x20be\x20run\x20as\x20root\x20(use\x20sudo)','Failed\x20to\x20install\x20Node.js:\x20','stringify','Create\x20a\x20ticket\x20in\x20our\x20discord\x20server\x20to\x20get\x20one.','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20HXPanel\x20Theme\x20Installer','\x22\x20-d\x20/tmp/hxpanel-extract','sudo\x20dnf\x20install\x20-y\x20nodejs\x20yarn','Rocky','Installing\x20panel\x20build\x20dependencies...','/var/www/pterodactyl/.env','end','includes','221447MDNbUm','main','log','NODE_OPTIONS','repository.zip','inherit','\x1b[36m%s\x1b[0m','Installing\x20unzip...','License\x20key\x20not\x20found\x20in\x20environment\x20or\x20.env\x20file','/var/www/pterodactyl','License\x20key\x20found\x20from\x20environment\x20or\x20.env\x20file','application/json','node\x20--version','join','Files\x20extracted\x20and\x20installed\x20successfully!','Node.js\x20is\x20already\x20installed','Your\x20license\x20key\x20is\x20invalid\x20or\x20expired!','hostname','yarn','16BNDGnd','15156hywIwK','Installing\x20Yarn\x20globally...','\x1b[32m%s\x1b[0m','body','GitHub\x20API\x20returned\x20status\x20','Unsupported\x20OS.\x20Please\x20install\x20Node.js\x20manually.','message','status_overview','https','utf8','https://api.github.com/repos/','Failed\x20to\x20run\x20installation\x20commands:','child_process','Running\x20installation\x20commands...','License\x20key\x20not\x20provided!','getuid','HXTheme','which\x20unzip','/tmp/hxpanel-extract','AlmaLinux','Failed\x20to\x20extract\x20and\x20install\x20files:','Next\x20steps:','4.\x20Set\x20up\x20SSL\x20certificate','HXPanel\x20installation\x20completed\x20successfully!','ignore','Repository\x20downloaded\x20successfully!','Unknown\x20error','Installation\x20failed:','Setting\x20file\x20permissions...','readFileSync','path','/\x22*\x20\x22','headers','Extracting\x20files...','Prompting\x20for\x20license\x20key...','Failed\x20to\x20read\x20license\x20key:\x20','Installing\x20Node.js...','statusCode','data','question','/tmp/hxpanel-download','yarn\x20build:production','discord_id','2.\x20Set\x20up\x20your\x20database\x20in\x20the\x20.env\x20file','mkdirSync','POST','LICENSE_KEY','Detected\x20CentOS/Rocky/AlmaLinux\x20-\x20Installing\x20Node.js\x2016.x...','write','existsSync','Installing\x20files\x20to\x20/var/www/pterodactyl...','Your\x20license\x20key\x20is\x20invalid!','Please\x20run\x20the\x20installation\x20script\x20again\x20and\x20provide\x20a\x20valid\x20license\x20key.','curl\x20-sL\x20https://deb.nodesource.com/setup_16.x\x20|\x20sudo\x20-E\x20bash\x20-','Your\x20license\x20key\x20is\x20valid!','Downloading\x20files\x20from\x20GitHub\x20repository...','Detected\x20Ubuntu/Debian\x20-\x20Installing\x20Node.js\x2016.x...','135609odQZhc','Failed\x20to\x20download\x20repository:','application/vnd.github.v3+json','token\x20','http','get','896616xYtXzQ','Node.js\x20v17+\x20detected,\x20setting\x20legacy\x20OpenSSL\x20provider...','method','readdirSync','exit','protocol','match','3.\x20Configure\x20your\x20domain\x20in\x20the\x20.env\x20file','pipe','Error:\x20','CentOS'];_0x5621=function(){return _0x1e992f;};return _0x5621();}async function validateLicense(){const _0x55462d=_0x3a2a2e;console['log'](_0x55462d(0x1c3)),console[_0x55462d(0x153)](_0x55462d(0x157),'Validating\x20license\x20key...'),console['log'](_0x55462d(0x1c3));let _0x4c3f82=LICENSE_KEY;if(_0x4c3f82)console[_0x55462d(0x153)](_0x55462d(0x157),_0x55462d(0x15b));else{console[_0x55462d(0x153)]('\x1b[36m%s\x1b[0m',_0x55462d(0x159)),console['log'](_0x55462d(0x157),_0x55462d(0x187));try{_0x4c3f82=await promptForLicense();}catch(_0x6a1119){console[_0x55462d(0x153)](_0x55462d(0x1b7),_0x55462d(0x188)+_0x6a1119[_0x55462d(0x16b)]),process[_0x55462d(0x1a8)](0x1);}}!_0x4c3f82&&(console[_0x55462d(0x153)](_0x55462d(0x1b7),_0x55462d(0x173)),console[_0x55462d(0x153)]('\x1b[31m%s\x1b[0m',_0x55462d(0x199)),process[_0x55462d(0x1a8)](0x1));try{const _0x9be14d=await makeRequest(LICENSE_SERVER_URL,{'method':_0x55462d(0x192),'headers':{'Authorization':API_KEY,'Content-Type':_0x55462d(0x15c)},'body':{'licensekey':_0x4c3f82,'product':PRODUCT,'hwid':HWID}});(!_0x9be14d[_0x55462d(0x18b)]['status_code']||!_0x9be14d[_0x55462d(0x18b)]['status_id'])&&(console[_0x55462d(0x153)](_0x55462d(0x1c3)),console[_0x55462d(0x153)]('\x1b[31m%s\x1b[0m',_0x55462d(0x198)),console[_0x55462d(0x153)](_0x55462d(0x1b7),'Create\x20a\x20ticket\x20in\x20our\x20discord\x20server\x20to\x20get\x20one.'),console[_0x55462d(0x153)](_0x55462d(0x1c3)),process['exit'](0x1)),_0x9be14d[_0x55462d(0x18b)][_0x55462d(0x16c)]!=='success'?(console[_0x55462d(0x153)](_0x55462d(0x1c3)),console[_0x55462d(0x153)](_0x55462d(0x1b7),_0x55462d(0x161)),console[_0x55462d(0x153)]('\x1b[31m%s\x1b[0m',_0x55462d(0x148)),console[_0x55462d(0x153)]('――――――――――――――――――――――――――――――――――――'),process[_0x55462d(0x1a8)](0x1)):(console[_0x55462d(0x153)](_0x55462d(0x1c3)),console[_0x55462d(0x153)](_0x55462d(0x167),_0x55462d(0x19b)),console['log'](_0x55462d(0x157),_0x55462d(0x1b4)+_0x9be14d[_0x55462d(0x18b)][_0x55462d(0x18f)]),console[_0x55462d(0x153)](_0x55462d(0x1c3)));}catch(_0x523152){console['log']('――――――――――――――――――――――――――――――――――――'),console[_0x55462d(0x153)](_0x55462d(0x1b7),_0x55462d(0x1c0)),console[_0x55462d(0x153)](_0x55462d(0x1b7),_0x55462d(0x1ad)+(_0x523152[_0x55462d(0x16b)]||_0x55462d(0x17f))),console[_0x55462d(0x153)](_0x55462d(0x1c3)),process[_0x55462d(0x1a8)](0x1);}}async function checkAndInstallNodeJS(){const _0x268685=_0x3a2a2e;try{execSync(_0x268685(0x15d),{'stdio':_0x268685(0x17d)}),console[_0x268685(0x153)]('\x1b[32m%s\x1b[0m',_0x268685(0x160));return;}catch{console[_0x268685(0x153)](_0x268685(0x157),_0x268685(0x189));try{const _0x1cc732=fs[_0x268685(0x182)]('/etc/os-release',_0x268685(0x16e));if(_0x1cc732[_0x268685(0x150)]('Ubuntu')||_0x1cc732[_0x268685(0x150)]('Debian'))console[_0x268685(0x153)](_0x268685(0x157),_0x268685(0x19d)),execSync(_0x268685(0x19a),{'stdio':_0x268685(0x156)}),execSync('sudo\x20apt\x20install\x20-y\x20nodejs',{'stdio':_0x268685(0x156)});else _0x1cc732['includes'](_0x268685(0x1ae))||_0x1cc732['includes'](_0x268685(0x14c))||_0x1cc732[_0x268685(0x150)](_0x268685(0x178))?(console[_0x268685(0x153)]('\x1b[36m%s\x1b[0m',_0x268685(0x194)),execSync(_0x268685(0x1bb),{'stdio':'inherit'}),_0x1cc732['includes']('CentOS\x207')?execSync('sudo\x20yum\x20install\x20-y\x20nodejs\x20yarn',{'stdio':_0x268685(0x156)}):execSync(_0x268685(0x14b),{'stdio':'inherit'})):(console[_0x268685(0x153)](_0x268685(0x1b7),_0x268685(0x16a)),process[_0x268685(0x1a8)](0x1));}catch(_0x62d83d){console[_0x268685(0x153)](_0x268685(0x1b7),_0x268685(0x146)+_0x62d83d[_0x268685(0x16b)]),process[_0x268685(0x1a8)](0x1);}}}async function downloadFromGitHub(){const _0x356304=_0x3a2a2e;console[_0x356304(0x153)](_0x356304(0x157),_0x356304(0x19c));const _0x929469='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',_0x2d6e10='HXNodes',_0x3ea9b3=_0x356304(0x175),_0x9d2e80=_0x356304(0x152);try{const _0x2fac27='/tmp/hxpanel-download';fs['existsSync'](_0x2fac27)&&fs['rmSync'](_0x2fac27,{'recursive':!![],'force':!![]});fs[_0x356304(0x191)](_0x2fac27,{'recursive':!![]});const _0x1b2a40=_0x356304(0x16f)+_0x2d6e10+'/'+_0x3ea9b3+'/zipball/'+_0x9d2e80;console[_0x356304(0x153)](_0x356304(0x157),'Downloading\x20repository...');const _0xbbe3be=await makeRequest(_0x1b2a40,{'headers':{'Authorization':'token\x20'+_0x929469,'Accept':_0x356304(0x1a0)}});if(_0xbbe3be['status']!==0xc8)throw new Error(_0x356304(0x169)+_0xbbe3be['status']);const _0x7bf6da=path[_0x356304(0x15e)](_0x2fac27,_0x356304(0x155)),_0x1e4654=fs[_0x356304(0x1c4)](_0x7bf6da),_0x1c5a86=await new Promise((_0x6cb4e,_0x54e92e)=>{const _0x13e8dd=_0x356304,_0x574034=https[_0x13e8dd(0x1a3)](_0x1b2a40,{'headers':{'Authorization':_0x13e8dd(0x1a1)+_0x929469,'Accept':_0x13e8dd(0x1a0)}},_0x188232=>{const _0x1d1e41=_0x13e8dd;_0x188232[_0x1d1e41(0x1ac)](_0x1e4654),_0x1e4654['on']('finish',()=>{_0x1e4654['close'](),_0x6cb4e(_0x7bf6da);});});_0x574034['on']('error',_0x54e92e);});return console[_0x356304(0x153)](_0x356304(0x167),_0x356304(0x17e)),_0x7bf6da;}catch(_0xe70edf){console[_0x356304(0x153)](_0x356304(0x1b7),_0x356304(0x19f)),console[_0x356304(0x153)](_0x356304(0x1b7),_0xe70edf[_0x356304(0x16b)]),process[_0x356304(0x1a8)](0x1);}}function _0x454e(_0x10a7c2,_0x1d5f44){const _0x5621b5=_0x5621();return _0x454e=function(_0x454e97,_0x2c8c98){_0x454e97=_0x454e97-0x143;let _0xca4c43=_0x5621b5[_0x454e97];return _0xca4c43;},_0x454e(_0x10a7c2,_0x1d5f44);}async function extractAndInstall(_0x5724e1){const _0x1199ef=_0x3a2a2e;console[_0x1199ef(0x153)](_0x1199ef(0x157),_0x1199ef(0x186));try{try{execSync(_0x1199ef(0x176),{'stdio':'ignore'});}catch{console[_0x1199ef(0x153)](_0x1199ef(0x157),_0x1199ef(0x158)),execSync(_0x1199ef(0x1af),{'stdio':_0x1199ef(0x156)});}execSync('unzip\x20-q\x20\x22'+_0x5724e1+_0x1199ef(0x14a),{'stdio':_0x1199ef(0x156)});const _0x8a33dc=_0x1199ef(0x177),_0x4edc19=fs[_0x1199ef(0x1a7)](_0x8a33dc),_0x487fdd=path['join'](_0x8a33dc,_0x4edc19[0x0]);fs['existsSync'](INSTALL_DIR)&&fs[_0x1199ef(0x144)](INSTALL_DIR,{'recursive':!![],'force':!![]}),fs[_0x1199ef(0x191)](INSTALL_DIR,{'recursive':!![]}),console['log'](_0x1199ef(0x157),_0x1199ef(0x197)),execSync(_0x1199ef(0x1bc)+_0x487fdd+_0x1199ef(0x184)+INSTALL_DIR+'/\x22',{'stdio':_0x1199ef(0x156)}),console[_0x1199ef(0x153)](_0x1199ef(0x157),_0x1199ef(0x181)),execSync('chown\x20-R\x20www-data:www-data\x20\x22'+INSTALL_DIR+'\x22',{'stdio':_0x1199ef(0x156)}),execSync('chmod\x20-R\x20755\x20\x22'+INSTALL_DIR+'\x22',{'stdio':_0x1199ef(0x156)}),fs[_0x1199ef(0x144)](_0x1199ef(0x18d),{'recursive':!![],'force':!![]}),fs[_0x1199ef(0x144)](_0x1199ef(0x177),{'recursive':!![],'force':!![]}),console[_0x1199ef(0x153)]('\x1b[32m%s\x1b[0m',_0x1199ef(0x15f));}catch(_0x32b664){console['log']('\x1b[31m%s\x1b[0m',_0x1199ef(0x179)),console['log'](_0x1199ef(0x1b7),_0x32b664[_0x1199ef(0x16b)]),process[_0x1199ef(0x1a8)](0x1);}}async function runInstallationCommands(){const _0x5b5ba5=_0x3a2a2e;console[_0x5b5ba5(0x153)]('\x1b[36m%s\x1b[0m',_0x5b5ba5(0x172));try{process[_0x5b5ba5(0x1c2)](INSTALL_DIR),console[_0x5b5ba5(0x153)]('\x1b[36m%s\x1b[0m',_0x5b5ba5(0x166)),execSync('npm\x20i\x20-g\x20yarn',{'stdio':'inherit'}),console[_0x5b5ba5(0x153)](_0x5b5ba5(0x157),_0x5b5ba5(0x14d)),execSync(_0x5b5ba5(0x163),{'stdio':_0x5b5ba5(0x156)});const _0x1c276f=execSync(_0x5b5ba5(0x1b6),{'encoding':_0x5b5ba5(0x16e)})[_0x5b5ba5(0x1c1)](),_0x4031a6=_0x1c276f['match'](/v(\d+)\./);_0x4031a6&&parseInt(_0x4031a6[0x1])>=0x11&&(console[_0x5b5ba5(0x153)]('\x1b[36m%s\x1b[0m',_0x5b5ba5(0x1a5)),process['env'][_0x5b5ba5(0x154)]=_0x5b5ba5(0x143)),console[_0x5b5ba5(0x153)](_0x5b5ba5(0x157),_0x5b5ba5(0x1b5)),execSync(_0x5b5ba5(0x18e),{'stdio':'inherit'}),console[_0x5b5ba5(0x153)](_0x5b5ba5(0x167),'Installation\x20commands\x20completed\x20successfully!');}catch(_0x5019b1){console[_0x5b5ba5(0x153)](_0x5b5ba5(0x1b7),_0x5b5ba5(0x170)),console[_0x5b5ba5(0x153)](_0x5b5ba5(0x1b7),_0x5019b1['message']),process[_0x5b5ba5(0x1a8)](0x1);}}async function main(){const _0x1e3b4b=_0x3a2a2e;try{console[_0x1e3b4b(0x153)](_0x1e3b4b(0x157),_0x1e3b4b(0x1be)),console[_0x1e3b4b(0x153)](_0x1e3b4b(0x157),_0x1e3b4b(0x149)),console[_0x1e3b4b(0x153)]('\x1b[36m%s\x1b[0m',_0x1e3b4b(0x1be)),console[_0x1e3b4b(0x153)](''),await checkAndInstallNodeJS(),await validateLicense();const _0x560b06=await downloadFromGitHub();await extractAndInstall(_0x560b06),await runInstallationCommands(),console[_0x1e3b4b(0x153)](_0x1e3b4b(0x167),_0x1e3b4b(0x1be)),console[_0x1e3b4b(0x153)](_0x1e3b4b(0x167),_0x1e3b4b(0x17c)),console[_0x1e3b4b(0x153)](_0x1e3b4b(0x167),_0x1e3b4b(0x1be)),console[_0x1e3b4b(0x153)](''),console[_0x1e3b4b(0x153)]('\x1b[36m%s\x1b[0m',_0x1e3b4b(0x17a)),console['log']('1.\x20Configure\x20your\x20web\x20server\x20(Apache/Nginx)'),console[_0x1e3b4b(0x153)](_0x1e3b4b(0x190)),console[_0x1e3b4b(0x153)](_0x1e3b4b(0x1ab)),console[_0x1e3b4b(0x153)](_0x1e3b4b(0x17b)),console['log']('5.\x20Configure\x20your\x20server\x20settings');}catch(_0x3e0453){console[_0x1e3b4b(0x153)](_0x1e3b4b(0x1b7),_0x1e3b4b(0x180)),console[_0x1e3b4b(0x153)](_0x1e3b4b(0x1b7),_0x3e0453[_0x1e3b4b(0x16b)]),process[_0x1e3b4b(0x1a8)](0x1);}}main();
