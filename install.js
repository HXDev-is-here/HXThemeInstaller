const _0x32f23e=_0x2c9e;(function(_0x5e32b3,_0x4b1d50){const _0x5946b3=_0x2c9e,_0x406b8b=_0x5e32b3();while(!![]){try{const _0x41eead=parseInt(_0x5946b3(0x1cd))/0x1*(parseInt(_0x5946b3(0x186))/0x2)+-parseInt(_0x5946b3(0x1b0))/0x3*(-parseInt(_0x5946b3(0x1b9))/0x4)+parseInt(_0x5946b3(0x1ae))/0x5+parseInt(_0x5946b3(0x1f3))/0x6+parseInt(_0x5946b3(0x188))/0x7+-parseInt(_0x5946b3(0x1bb))/0x8+-parseInt(_0x5946b3(0x1c9))/0x9;if(_0x41eead===_0x4b1d50)break;else _0x406b8b['push'](_0x406b8b['shift']());}catch(_0x4d663b){_0x406b8b['push'](_0x406b8b['shift']());}}}(_0x1813,0x4094f));function _0x1813(){const _0x5229ae=['Failed\x20to\x20extract\x20and\x20install\x20files:','token\x20','――――――――――――――――――――――――――――――――――――','Please\x20enter\x20your\x20license\x20key:\x20','success','yarn\x20build:production','Detected\x20Ubuntu/Debian\x20-\x20Installing\x20Node.js\x2016.x...','inherit','Detected\x20CentOS/Rocky/AlmaLinux\x20-\x20Installing\x20Node.js\x2016.x...','npm\x20i\x20-g\x20yarn','Installing\x20panel\x20build\x20dependencies...','Ubuntu','\x1b[36m%s\x1b[0m','5.\x20Configure\x20your\x20server\x20settings','curl\x20-sL\x20https://rpm.nodesource.com/setup_16.x\x20|\x20sudo\x20-E\x20bash\x20-','readFileSync','1.\x20Configure\x20your\x20web\x20server\x20(Apache/Nginx)','match','1953732lkurMV','main','\x1b[32m%s\x1b[0m','rmSync','sudo\x20dnf\x20install\x20-y\x20nodejs\x20yarn','close','createInterface','Failed\x20to\x20install\x20Node.js:\x20','Your\x20license\x20key\x20is\x20invalid!','readdirSync','child_process','getuid','exit','data','==========================================','\x22\x20-d\x20/tmp/hxpanel-extract','mkdirSync','/tmp/hxpanel-extract','700rCtDAT','Node.js\x20is\x20already\x20installed','262003AYKcue','Extracting\x20files...','/\x22*\x20\x22','Installation\x20commands\x20completed\x20successfully!','Files\x20extracted\x20and\x20installed\x20successfully!','protocol','/zipball/','/etc/os-release','Building\x20panel...','/var/www/pterodactyl','3.\x20Configure\x20your\x20domain\x20in\x20the\x20.env\x20file','Failed\x20to\x20download\x20repository:','http','HXPanel\x20installation\x20completed\x20successfully!','Your\x20license\x20key\x20is\x20invalid\x20or\x20expired!','stdout','/tmp/hxpanel-download','ignore','Repository\x20downloaded\x20successfully!','trim','4.\x20Set\x20up\x20SSL\x20certificate','createWriteStream','env','sgdfgrg47rhg45b83e48hdh8','status_code','get','message','CentOS\x207','Your\x20license\x20key\x20is\x20valid!','https://api.github.com/repos/','includes','question','LICENSE_KEY','existsSync','error','Setting\x20file\x20permissions...','https','chdir','1895670FGQzjC','License\x20Authentication\x20failed','909123cDnPoY','node\x20--version','body','status','discord_id','Prompting\x20for\x20license\x20key...','\x1b[31m%s\x1b[0m','Installing\x20Node.js...','pipe','4otRvBa','https:','2111336ngRGHY','application/json','log','status_id','http://in3.hxnodes.xyz:25575/api/client','Provided','POST','2.\x20Set\x20up\x20your\x20database\x20in\x20the\x20.env\x20file','Installing\x20files\x20to\x20/var/www/pterodactyl...','status_overview','stdin','NODE_OPTIONS','Not\x20provided','end','6181938qjtUdH','Please\x20run\x20the\x20installation\x20script\x20again\x20and\x20provide\x20a\x20valid\x20license\x20key.','curl\x20-sL\x20https://deb.nodesource.com/setup_16.x\x20|\x20sudo\x20-E\x20bash\x20-','HXTheme','486WWTNWQ','Next\x20steps:','utf8','request','statusCode','Rocky','CentOS','Create\x20a\x20ticket\x20in\x20our\x20discord\x20server\x20to\x20get\x20one.','This\x20script\x20must\x20be\x20run\x20as\x20root\x20(use\x20sudo)','application/vnd.github.v3+json','Installation\x20failed:','sudo\x20yum\x20install\x20-y\x20nodejs\x20yarn','Installing\x20unzip...','write','join','AlmaLinux','Discord\x20ID:\x20','Downloading\x20repository...','Running\x20installation\x20commands...','apt-get\x20update\x20&&\x20apt-get\x20install\x20-y\x20unzip'];_0x1813=function(){return _0x5229ae;};return _0x1813();}const fs=require('fs'),path=require('path'),{execSync}=require(_0x32f23e(0x17e)),https=require(_0x32f23e(0x1ac)),http=require(_0x32f23e(0x194)),LICENSE_SERVER_URL=_0x32f23e(0x1bf),API_KEY=_0x32f23e(0x19f),PRODUCT=_0x32f23e(0x1cc),INSTALL_DIR=_0x32f23e(0x191),LICENSE_KEY=process['env'][_0x32f23e(0x1a8)],os=require('os'),HWID=os['hostname']();process[_0x32f23e(0x17f)]&&process[_0x32f23e(0x17f)]()!==0x0&&(console['log'](_0x32f23e(0x1b6),_0x32f23e(0x1d5)),process[_0x32f23e(0x180)](0x1));function promptForLicense(){const _0x176e4d=_0x32f23e,_0x50409b=require('readline'),_0x3f9415=_0x50409b[_0x176e4d(0x17a)]({'input':process[_0x176e4d(0x1c5)],'output':process[_0x176e4d(0x197)]});return new Promise(_0x170b0e=>{const _0x308228=_0x176e4d;_0x3f9415[_0x308228(0x1a7)](_0x308228(0x1e4),_0x39029b=>{const _0x3daea6=_0x308228;_0x3f9415[_0x3daea6(0x179)](),_0x170b0e(_0x39029b[_0x3daea6(0x19b)]());}),setTimeout(()=>{_0x3f9415['close'](),_0x170b0e('');},0x7530);});}function makeRequest(_0x10cdb9,_0x37f66f={}){return new Promise((_0x37f4b9,_0x5595c0)=>{const _0x1e589c=_0x2c9e,_0x204236=new URL(_0x10cdb9),_0x57a162=_0x204236[_0x1e589c(0x18d)]===_0x1e589c(0x1ba),_0x31c682=_0x57a162?https:http,_0x460abd=_0x31c682[_0x1e589c(0x1d0)](_0x10cdb9,{'method':_0x37f66f['method']||'GET','headers':_0x37f66f['headers']||{},..._0x37f66f},_0x5b6c3f=>{const _0x157cdf=_0x1e589c;let _0x89aee0='';_0x5b6c3f['on'](_0x157cdf(0x181),_0x6e78cd=>_0x89aee0+=_0x6e78cd),_0x5b6c3f['on'](_0x157cdf(0x1c8),()=>{const _0xd7d9f2=_0x157cdf;try{const _0x187976=JSON['parse'](_0x89aee0);_0x37f4b9({'status':_0x5b6c3f['statusCode'],'data':_0x187976});}catch(_0x6aac81){_0x37f4b9({'status':_0x5b6c3f[_0xd7d9f2(0x1d1)],'data':_0x89aee0});}});});_0x460abd['on'](_0x1e589c(0x1aa),_0x5595c0),_0x37f66f[_0x1e589c(0x1b2)]&&_0x460abd[_0x1e589c(0x1da)](JSON['stringify'](_0x37f66f[_0x1e589c(0x1b2)])),_0x460abd[_0x1e589c(0x1c8)]();});}async function validateLicense(){const _0x4fd788=_0x32f23e;console['log'](_0x4fd788(0x1e3)),console[_0x4fd788(0x1bd)](_0x4fd788(0x1ed),'Validating\x20license\x20key...'),console['log']('――――――――――――――――――――――――――――――――――――');let _0x385e1e=LICENSE_KEY;console[_0x4fd788(0x1bd)](_0x4fd788(0x1ed),'License\x20key\x20from\x20env:\x20'+(_0x385e1e?_0x4fd788(0x1c0):_0x4fd788(0x1c7)));if(!_0x385e1e){console['log'](_0x4fd788(0x1ed),_0x4fd788(0x1b5));try{_0x385e1e=await promptForLicense();}catch(_0x1a5609){console[_0x4fd788(0x1bd)](_0x4fd788(0x1b6),'Failed\x20to\x20read\x20license\x20key:\x20'+_0x1a5609[_0x4fd788(0x1a2)]),process['exit'](0x1);}}!_0x385e1e&&(console[_0x4fd788(0x1bd)](_0x4fd788(0x1b6),'License\x20key\x20not\x20provided!'),console['log'](_0x4fd788(0x1b6),_0x4fd788(0x1ca)),process[_0x4fd788(0x180)](0x1));try{const _0x420ab7=await makeRequest(LICENSE_SERVER_URL,{'method':_0x4fd788(0x1c1),'headers':{'Authorization':API_KEY,'Content-Type':_0x4fd788(0x1bc)},'body':{'licensekey':_0x385e1e,'product':PRODUCT,'hwid':HWID}});(!_0x420ab7[_0x4fd788(0x181)][_0x4fd788(0x1a0)]||!_0x420ab7[_0x4fd788(0x181)][_0x4fd788(0x1be)])&&(console[_0x4fd788(0x1bd)]('――――――――――――――――――――――――――――――――――――'),console[_0x4fd788(0x1bd)](_0x4fd788(0x1b6),_0x4fd788(0x17c)),console[_0x4fd788(0x1bd)](_0x4fd788(0x1b6),_0x4fd788(0x1d4)),console[_0x4fd788(0x1bd)](_0x4fd788(0x1e3)),process['exit'](0x1)),_0x420ab7[_0x4fd788(0x181)][_0x4fd788(0x1c4)]!==_0x4fd788(0x1e5)?(console['log'](_0x4fd788(0x1e3)),console[_0x4fd788(0x1bd)](_0x4fd788(0x1b6),_0x4fd788(0x196)),console[_0x4fd788(0x1bd)](_0x4fd788(0x1b6),'Create\x20a\x20ticket\x20in\x20our\x20discord\x20server\x20to\x20get\x20one.'),console['log'](_0x4fd788(0x1e3)),process[_0x4fd788(0x180)](0x1)):(console[_0x4fd788(0x1bd)](_0x4fd788(0x1e3)),console[_0x4fd788(0x1bd)](_0x4fd788(0x176),_0x4fd788(0x1a4)),console['log']('\x1b[36m%s\x1b[0m',_0x4fd788(0x1dd)+_0x420ab7[_0x4fd788(0x181)][_0x4fd788(0x1b4)]),console[_0x4fd788(0x1bd)](_0x4fd788(0x1e3)));}catch(_0x570657){console[_0x4fd788(0x1bd)](_0x4fd788(0x1e3)),console[_0x4fd788(0x1bd)](_0x4fd788(0x1b6),_0x4fd788(0x1af)),console[_0x4fd788(0x1bd)]('\x1b[31m%s\x1b[0m','Error:\x20'+(_0x570657[_0x4fd788(0x1a2)]||'Unknown\x20error')),console['log'](_0x4fd788(0x1e3)),process['exit'](0x1);}}async function checkAndInstallNodeJS(){const _0x30a8=_0x32f23e;try{execSync(_0x30a8(0x1b1),{'stdio':_0x30a8(0x199)}),console[_0x30a8(0x1bd)](_0x30a8(0x176),_0x30a8(0x187));return;}catch{console['log'](_0x30a8(0x1ed),_0x30a8(0x1b7));try{const _0x5a089a=fs[_0x30a8(0x1f0)](_0x30a8(0x18f),_0x30a8(0x1cf));if(_0x5a089a['includes'](_0x30a8(0x1ec))||_0x5a089a['includes']('Debian'))console[_0x30a8(0x1bd)](_0x30a8(0x1ed),_0x30a8(0x1e7)),execSync(_0x30a8(0x1cb),{'stdio':_0x30a8(0x1e8)}),execSync('sudo\x20apt\x20install\x20-y\x20nodejs',{'stdio':_0x30a8(0x1e8)});else _0x5a089a['includes'](_0x30a8(0x1d3))||_0x5a089a[_0x30a8(0x1a6)](_0x30a8(0x1d2))||_0x5a089a[_0x30a8(0x1a6)](_0x30a8(0x1dc))?(console[_0x30a8(0x1bd)](_0x30a8(0x1ed),_0x30a8(0x1e9)),execSync(_0x30a8(0x1ef),{'stdio':_0x30a8(0x1e8)}),_0x5a089a['includes'](_0x30a8(0x1a3))?execSync(_0x30a8(0x1d8),{'stdio':_0x30a8(0x1e8)}):execSync(_0x30a8(0x178),{'stdio':'inherit'})):(console[_0x30a8(0x1bd)](_0x30a8(0x1b6),'Unsupported\x20OS.\x20Please\x20install\x20Node.js\x20manually.'),process['exit'](0x1));}catch(_0x112cad){console[_0x30a8(0x1bd)](_0x30a8(0x1b6),_0x30a8(0x17b)+_0x112cad[_0x30a8(0x1a2)]),process[_0x30a8(0x180)](0x1);}}}async function downloadFromGitHub(){const _0x3dfdcb=_0x32f23e;console[_0x3dfdcb(0x1bd)](_0x3dfdcb(0x1ed),'Downloading\x20files\x20from\x20GitHub\x20repository...');const _0x251b1d='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',_0x25c071='HXNodes',_0x5cfb72=_0x3dfdcb(0x1cc),_0x2655bb=_0x3dfdcb(0x175);try{const _0x2276aa=_0x3dfdcb(0x198);fs[_0x3dfdcb(0x1a9)](_0x2276aa)&&fs[_0x3dfdcb(0x177)](_0x2276aa,{'recursive':!![],'force':!![]});fs[_0x3dfdcb(0x184)](_0x2276aa,{'recursive':!![]});const _0x59d961=_0x3dfdcb(0x1a5)+_0x25c071+'/'+_0x5cfb72+_0x3dfdcb(0x18e)+_0x2655bb;console[_0x3dfdcb(0x1bd)]('\x1b[36m%s\x1b[0m',_0x3dfdcb(0x1de));const _0x23e71b=await makeRequest(_0x59d961,{'headers':{'Authorization':_0x3dfdcb(0x1e2)+_0x251b1d,'Accept':_0x3dfdcb(0x1d6)}});if(_0x23e71b[_0x3dfdcb(0x1b3)]!==0xc8)throw new Error('GitHub\x20API\x20returned\x20status\x20'+_0x23e71b[_0x3dfdcb(0x1b3)]);const _0x2afeb9=path[_0x3dfdcb(0x1db)](_0x2276aa,'repository.zip'),_0x1e1554=fs[_0x3dfdcb(0x19d)](_0x2afeb9),_0x569094=await new Promise((_0x3585d2,_0x350de7)=>{const _0x441028=_0x3dfdcb,_0x337a25=https[_0x441028(0x1a1)](_0x59d961,{'headers':{'Authorization':'token\x20'+_0x251b1d,'Accept':'application/vnd.github.v3+json'}},_0x3ece80=>{const _0x5cd803=_0x441028;_0x3ece80[_0x5cd803(0x1b8)](_0x1e1554),_0x1e1554['on']('finish',()=>{const _0x295298=_0x5cd803;_0x1e1554[_0x295298(0x179)](),_0x3585d2(_0x2afeb9);});});_0x337a25['on'](_0x441028(0x1aa),_0x350de7);});return console[_0x3dfdcb(0x1bd)]('\x1b[32m%s\x1b[0m',_0x3dfdcb(0x19a)),_0x2afeb9;}catch(_0x2db65c){console[_0x3dfdcb(0x1bd)](_0x3dfdcb(0x1b6),_0x3dfdcb(0x193)),console[_0x3dfdcb(0x1bd)](_0x3dfdcb(0x1b6),_0x2db65c[_0x3dfdcb(0x1a2)]),process[_0x3dfdcb(0x180)](0x1);}}async function extractAndInstall(_0xbe754a){const _0xb8e497=_0x32f23e;console[_0xb8e497(0x1bd)](_0xb8e497(0x1ed),_0xb8e497(0x189));try{try{execSync('which\x20unzip',{'stdio':_0xb8e497(0x199)});}catch{console[_0xb8e497(0x1bd)](_0xb8e497(0x1ed),_0xb8e497(0x1d9)),execSync(_0xb8e497(0x1e0),{'stdio':_0xb8e497(0x1e8)});}execSync('unzip\x20-q\x20\x22'+_0xbe754a+_0xb8e497(0x183),{'stdio':_0xb8e497(0x1e8)});const _0x3cc3b0=_0xb8e497(0x185),_0x33972e=fs[_0xb8e497(0x17d)](_0x3cc3b0),_0x2a3f96=path['join'](_0x3cc3b0,_0x33972e[0x0]);fs[_0xb8e497(0x1a9)](INSTALL_DIR)&&fs[_0xb8e497(0x177)](INSTALL_DIR,{'recursive':!![],'force':!![]}),fs[_0xb8e497(0x184)](INSTALL_DIR,{'recursive':!![]}),console[_0xb8e497(0x1bd)](_0xb8e497(0x1ed),_0xb8e497(0x1c3)),execSync('cp\x20-r\x20\x22'+_0x2a3f96+_0xb8e497(0x18a)+INSTALL_DIR+'/\x22',{'stdio':'inherit'}),console[_0xb8e497(0x1bd)](_0xb8e497(0x1ed),_0xb8e497(0x1ab)),execSync('chown\x20-R\x20www-data:www-data\x20\x22'+INSTALL_DIR+'\x22',{'stdio':_0xb8e497(0x1e8)}),execSync('chmod\x20-R\x20755\x20\x22'+INSTALL_DIR+'\x22',{'stdio':_0xb8e497(0x1e8)}),fs[_0xb8e497(0x177)](_0xb8e497(0x198),{'recursive':!![],'force':!![]}),fs[_0xb8e497(0x177)]('/tmp/hxpanel-extract',{'recursive':!![],'force':!![]}),console[_0xb8e497(0x1bd)](_0xb8e497(0x176),_0xb8e497(0x18c));}catch(_0x1fc492){console['log'](_0xb8e497(0x1b6),_0xb8e497(0x1e1)),console['log'](_0xb8e497(0x1b6),_0x1fc492['message']),process['exit'](0x1);}}async function runInstallationCommands(){const _0x54bfda=_0x32f23e;console[_0x54bfda(0x1bd)]('\x1b[36m%s\x1b[0m',_0x54bfda(0x1df));try{process[_0x54bfda(0x1ad)](INSTALL_DIR),console[_0x54bfda(0x1bd)]('\x1b[36m%s\x1b[0m','Installing\x20Yarn\x20globally...'),execSync(_0x54bfda(0x1ea),{'stdio':_0x54bfda(0x1e8)}),console[_0x54bfda(0x1bd)](_0x54bfda(0x1ed),_0x54bfda(0x1eb)),execSync('yarn',{'stdio':_0x54bfda(0x1e8)});const _0x41531f=execSync('node\x20-v',{'encoding':'utf8'})[_0x54bfda(0x19b)](),_0x3db71f=_0x41531f[_0x54bfda(0x1f2)](/v(\d+)\./);_0x3db71f&&parseInt(_0x3db71f[0x1])>=0x11&&(console[_0x54bfda(0x1bd)](_0x54bfda(0x1ed),'Node.js\x20v17+\x20detected,\x20setting\x20legacy\x20OpenSSL\x20provider...'),process[_0x54bfda(0x19e)][_0x54bfda(0x1c6)]='--openssl-legacy-provider'),console[_0x54bfda(0x1bd)](_0x54bfda(0x1ed),_0x54bfda(0x190)),execSync(_0x54bfda(0x1e6),{'stdio':_0x54bfda(0x1e8)}),console[_0x54bfda(0x1bd)]('\x1b[32m%s\x1b[0m',_0x54bfda(0x18b));}catch(_0x5e0d9e){console['log'](_0x54bfda(0x1b6),'Failed\x20to\x20run\x20installation\x20commands:'),console[_0x54bfda(0x1bd)](_0x54bfda(0x1b6),_0x5e0d9e[_0x54bfda(0x1a2)]),process['exit'](0x1);}}async function main(){const _0x5a1a8c=_0x32f23e;try{console['log'](_0x5a1a8c(0x1ed),_0x5a1a8c(0x182)),console[_0x5a1a8c(0x1bd)](_0x5a1a8c(0x1ed),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20HXPanel\x20Theme\x20Installer'),console[_0x5a1a8c(0x1bd)]('\x1b[36m%s\x1b[0m',_0x5a1a8c(0x182)),console[_0x5a1a8c(0x1bd)](''),await checkAndInstallNodeJS(),await validateLicense();const _0x462394=await downloadFromGitHub();await extractAndInstall(_0x462394),await runInstallationCommands(),console[_0x5a1a8c(0x1bd)](_0x5a1a8c(0x176),_0x5a1a8c(0x182)),console[_0x5a1a8c(0x1bd)](_0x5a1a8c(0x176),_0x5a1a8c(0x195)),console['log'](_0x5a1a8c(0x176),_0x5a1a8c(0x182)),console['log'](''),console[_0x5a1a8c(0x1bd)](_0x5a1a8c(0x1ed),_0x5a1a8c(0x1ce)),console[_0x5a1a8c(0x1bd)](_0x5a1a8c(0x1f1)),console[_0x5a1a8c(0x1bd)](_0x5a1a8c(0x1c2)),console['log'](_0x5a1a8c(0x192)),console['log'](_0x5a1a8c(0x19c)),console[_0x5a1a8c(0x1bd)](_0x5a1a8c(0x1ee));}catch(_0x51004f){console[_0x5a1a8c(0x1bd)](_0x5a1a8c(0x1b6),_0x5a1a8c(0x1d7)),console[_0x5a1a8c(0x1bd)](_0x5a1a8c(0x1b6),_0x51004f[_0x5a1a8c(0x1a2)]),process[_0x5a1a8c(0x180)](0x1);}}function _0x2c9e(_0x52c2d0,_0x29e7bc){const _0x18133c=_0x1813();return _0x2c9e=function(_0x2c9e95,_0xf9710f){_0x2c9e95=_0x2c9e95-0x175;let _0x32eec6=_0x18133c[_0x2c9e95];return _0x32eec6;},_0x2c9e(_0x52c2d0,_0x29e7bc);}main();
