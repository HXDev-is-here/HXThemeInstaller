const _0x481fc6=_0x10cf;(function(_0x11f715,_0x4ab056){const _0x47c32f=_0x10cf,_0xa55117=_0x11f715();while(!![]){try{const _0x27c792=-parseInt(_0x47c32f(0xf1))/0x1+-parseInt(_0x47c32f(0x12e))/0x2*(-parseInt(_0x47c32f(0xdd))/0x3)+-parseInt(_0x47c32f(0xe1))/0x4*(-parseInt(_0x47c32f(0x12f))/0x5)+-parseInt(_0x47c32f(0x144))/0x6+parseInt(_0x47c32f(0x121))/0x7+parseInt(_0x47c32f(0xec))/0x8*(parseInt(_0x47c32f(0x12a))/0x9)+parseInt(_0x47c32f(0x11d))/0xa;if(_0x27c792===_0x4ab056)break;else _0xa55117['push'](_0xa55117['shift']());}catch(_0x4bd30c){_0xa55117['push'](_0xa55117['shift']());}}}(_0x49ba,0x1db3e));const axios=require('axios'),fs=require('fs'),path=require(_0x481fc6(0xde)),{execSync}=require('child_process'),https=require(_0x481fc6(0xfb)),LICENSE_SERVER_URL=_0x481fc6(0xff),API_KEY=_0x481fc6(0x107),PRODUCT=_0x481fc6(0x10c),INSTALL_DIR=_0x481fc6(0x10d),LICENSE_KEY=process[_0x481fc6(0xe2)][_0x481fc6(0x141)],os=require('os'),HWID=os['hostname']();async function validateLicense(){const _0x4f646a=_0x481fc6;console['log']('――――――――――――――――――――――――――――――――――――'),console[_0x4f646a(0x115)](_0x4f646a(0xed),_0x4f646a(0xdf)),console[_0x4f646a(0x115)](_0x4f646a(0x112));!LICENSE_KEY&&(console[_0x4f646a(0x115)](_0x4f646a(0xfd),'License\x20key\x20not\x20provided!'),console[_0x4f646a(0x115)](_0x4f646a(0xfd),_0x4f646a(0xef)),process[_0x4f646a(0x11f)](0x1));try{const _0x12e491=await axios[_0x4f646a(0x137)](LICENSE_SERVER_URL,{'licensekey':LICENSE_KEY,'product':PRODUCT,'hwid':HWID},{'headers':{'Authorization':API_KEY},'timeout':0x2710});(!_0x12e491['data']['status_code']||!_0x12e491[_0x4f646a(0x140)][_0x4f646a(0x12d)])&&(console[_0x4f646a(0x115)](_0x4f646a(0x112)),console[_0x4f646a(0x115)]('\x1b[31m%s\x1b[0m','Your\x20license\x20key\x20is\x20invalid!'),console['log'](_0x4f646a(0xfd),_0x4f646a(0x133)),console['log'](_0x4f646a(0x112)),process[_0x4f646a(0x11f)](0x1)),_0x12e491[_0x4f646a(0x140)][_0x4f646a(0xfe)]!=='success'?(console['log'](_0x4f646a(0x112)),console['log'](_0x4f646a(0xfd),_0x4f646a(0x10a)),console['log'](_0x4f646a(0xfd),_0x4f646a(0x133)),console['log'](_0x4f646a(0x112)),process[_0x4f646a(0x11f)](0x1)):(console[_0x4f646a(0x115)](_0x4f646a(0x112)),console[_0x4f646a(0x115)](_0x4f646a(0x10b),_0x4f646a(0x136)),console[_0x4f646a(0x115)](_0x4f646a(0xed),'Discord\x20ID:\x20'+_0x12e491[_0x4f646a(0x140)][_0x4f646a(0x131)]),console[_0x4f646a(0x115)](_0x4f646a(0x112)));}catch(_0x175fc4){console[_0x4f646a(0x115)](_0x4f646a(0x112)),console[_0x4f646a(0x115)]('\x1b[31m%s\x1b[0m',_0x4f646a(0xe7)),console[_0x4f646a(0x115)](_0x4f646a(0xfd),_0x4f646a(0xe4)+(_0x175fc4['message']||_0x4f646a(0xf0))),console[_0x4f646a(0x115)](_0x4f646a(0x112)),process[_0x4f646a(0x11f)](0x1);}}function _0x49ba(){const _0x1ec217=['/\x22*\x20\x22','HXPanel\x20installation\x20completed\x20successfully!','curl\x20-sL\x20https://deb.nodesource.com/setup_16.x\x20|\x20sudo\x20-E\x20bash\x20-','curl\x20-sL\x20https://rpm.nodesource.com/setup_16.x\x20|\x20sudo\x20-E\x20bash\x20-','Repository\x20downloaded\x20successfully!','4.\x20Set\x20up\x20SSL\x20certificate','Files\x20extracted\x20and\x20installed\x20successfully!','application/vnd.github.v3+json','627804qyyraV','sudo\x20dnf\x20install\x20-y\x20nodejs\x20yarn','Installation\x20commands\x20completed\x20successfully!','status_id','106oXGwmx','38810lFwynb','token\x20','discord_id','ignore','Create\x20a\x20ticket\x20in\x20our\x20discord\x20server\x20to\x20get\x20one.','5.\x20Configure\x20your\x20server\x20settings','Installation\x20failed:','Your\x20license\x20key\x20is\x20valid!','post','cp\x20-r\x20\x22','Ubuntu','inherit','CentOS','trim','includes','Running\x20installation\x20commands...','Next\x20steps:','data','LICENSE_KEY','/etc/os-release','rmSync','1180962KRsiRW','Installing\x20panel\x20build\x20dependencies...','unzip\x20-q\x20\x22','10671VOvVaG','path','Validating\x20license\x20key...','Installing\x20Yarn\x20globally...','4lsheyk','env','/zipball/','Error:\x20','Installing\x20unzip...','Unsupported\x20OS.\x20Please\x20install\x20Node.js\x20manually.','License\x20Authentication\x20failed','--openssl-legacy-provider','mkdirSync','sudo\x20apt\x20install\x20-y\x20nodejs','yarn','8fAgiTt','\x1b[36m%s\x1b[0m','Node.js\x20is\x20already\x20installed','Please\x20run\x20the\x20installation\x20script\x20again\x20and\x20provide\x20a\x20valid\x20license\x20key.','Unknown\x20error','174772urfVqb','main','sudo\x20yum\x20install\x20-y\x20nodejs\x20yarn','/tmp/hxpanel-extract','Failed\x20to\x20run\x20installation\x20commands:','chmod\x20-R\x20755\x20\x22','Failed\x20to\x20download\x20repository:','https://api.github.com/repos/','Installing\x20Node.js...','Downloading\x20repository...','https','1.\x20Configure\x20your\x20web\x20server\x20(Apache/Nginx)','\x1b[31m%s\x1b[0m','status_overview','http://in3.hxnodes.xyz:25575/api/client','which\x20unzip','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','==========================================','join','Extracting\x20files...','Failed\x20to\x20extract\x20and\x20install\x20files:','error','sgdfgrg47rhg45b83e48hdh8','yarn\x20build:production','readFileSync','Your\x20license\x20key\x20is\x20invalid\x20or\x20expired!','\x1b[32m%s\x1b[0m','HXTheme','/var/www/pterodactyl','message','utf8','Building\x20panel...','\x22\x20-d\x20/tmp/hxpanel-extract','――――――――――――――――――――――――――――――――――――','node\x20--version','existsSync','log','Node.js\x20v17+\x20detected,\x20setting\x20legacy\x20OpenSSL\x20provider...','match','HXNodes','CentOS\x207','/tmp/hxpanel-download','AlmaLinux','apt-get\x20update\x20&&\x20apt-get\x20install\x20-y\x20unzip','1671640qqGbMs','pipe','exit','Debian','420406qQDyAv'];_0x49ba=function(){return _0x1ec217;};return _0x49ba();}async function downloadFromGitHub(){const _0x193af3=_0x481fc6;console[_0x193af3(0x115)](_0x193af3(0xed),'Downloading\x20files\x20from\x20GitHub\x20repository...');const _0x448dab=_0x193af3(0x101),_0x32ed14=_0x193af3(0x118),_0x5eef3e=_0x193af3(0x10c),_0x4a7ce7=_0x193af3(0xf2);try{const _0xe03a1=_0x193af3(0x11a);fs[_0x193af3(0x114)](_0xe03a1)&&fs[_0x193af3(0x143)](_0xe03a1,{'recursive':!![],'force':!![]});fs[_0x193af3(0xe9)](_0xe03a1,{'recursive':!![]});const _0x3d5a7d=_0x193af3(0xf8)+_0x32ed14+'/'+_0x5eef3e+_0x193af3(0xe3)+_0x4a7ce7;console[_0x193af3(0x115)](_0x193af3(0xed),_0x193af3(0xfa));const _0x47838b=await axios({'method':'GET','url':_0x3d5a7d,'headers':{'Authorization':_0x193af3(0x130)+_0x448dab,'Accept':_0x193af3(0x129)},'responseType':'stream'}),_0x3af1e5=path[_0x193af3(0x103)](_0xe03a1,'repository.zip'),_0x499220=fs['createWriteStream'](_0x3af1e5);return _0x47838b[_0x193af3(0x140)][_0x193af3(0x11e)](_0x499220),new Promise((_0x1285d1,_0x22615d)=>{const _0x3c5a1c=_0x193af3;_0x499220['on']('finish',()=>{const _0x49b290=_0x10cf;console[_0x49b290(0x115)](_0x49b290(0x10b),_0x49b290(0x126)),_0x1285d1(_0x3af1e5);}),_0x499220['on'](_0x3c5a1c(0x106),_0x22615d);});}catch(_0x29dd1e){console['log'](_0x193af3(0xfd),_0x193af3(0xf7)),console[_0x193af3(0x115)](_0x193af3(0xfd),_0x29dd1e[_0x193af3(0x10e)]),process[_0x193af3(0x11f)](0x1);}}async function extractAndInstall(_0x450d70){const _0x1b4b8b=_0x481fc6;console[_0x1b4b8b(0x115)](_0x1b4b8b(0xed),_0x1b4b8b(0x104));try{try{execSync(_0x1b4b8b(0x100),{'stdio':'ignore'});}catch{console[_0x1b4b8b(0x115)](_0x1b4b8b(0xed),_0x1b4b8b(0xe5)),execSync(_0x1b4b8b(0x11c),{'stdio':_0x1b4b8b(0x13a)});}execSync(_0x1b4b8b(0x146)+_0x450d70+_0x1b4b8b(0x111),{'stdio':_0x1b4b8b(0x13a)});const _0x41a730=_0x1b4b8b(0xf4),_0x4e7f98=fs['readdirSync'](_0x41a730),_0x1f84e7=path[_0x1b4b8b(0x103)](_0x41a730,_0x4e7f98[0x0]);fs[_0x1b4b8b(0x114)](INSTALL_DIR)&&fs[_0x1b4b8b(0x143)](INSTALL_DIR,{'recursive':!![],'force':!![]}),fs[_0x1b4b8b(0xe9)](INSTALL_DIR,{'recursive':!![]}),console[_0x1b4b8b(0x115)]('\x1b[36m%s\x1b[0m','Installing\x20files\x20to\x20/var/www/pterodactyl...'),execSync(_0x1b4b8b(0x138)+_0x1f84e7+_0x1b4b8b(0x122)+INSTALL_DIR+'/\x22',{'stdio':_0x1b4b8b(0x13a)}),console[_0x1b4b8b(0x115)]('\x1b[36m%s\x1b[0m','Setting\x20file\x20permissions...'),execSync('chown\x20-R\x20www-data:www-data\x20\x22'+INSTALL_DIR+'\x22',{'stdio':_0x1b4b8b(0x13a)}),execSync(_0x1b4b8b(0xf6)+INSTALL_DIR+'\x22',{'stdio':_0x1b4b8b(0x13a)}),fs[_0x1b4b8b(0x143)](_0x1b4b8b(0x11a),{'recursive':!![],'force':!![]}),fs[_0x1b4b8b(0x143)]('/tmp/hxpanel-extract',{'recursive':!![],'force':!![]}),console[_0x1b4b8b(0x115)](_0x1b4b8b(0x10b),_0x1b4b8b(0x128));}catch(_0x55cde8){console[_0x1b4b8b(0x115)](_0x1b4b8b(0xfd),_0x1b4b8b(0x105)),console['log'](_0x1b4b8b(0xfd),_0x55cde8[_0x1b4b8b(0x10e)]),process['exit'](0x1);}}async function runInstallationCommands(){const _0x17cabb=_0x481fc6;console[_0x17cabb(0x115)](_0x17cabb(0xed),_0x17cabb(0x13e));try{process['chdir'](INSTALL_DIR),console[_0x17cabb(0x115)]('\x1b[36m%s\x1b[0m','Checking\x20Node.js\x20installation...');try{execSync(_0x17cabb(0x113),{'stdio':_0x17cabb(0x132)}),console[_0x17cabb(0x115)](_0x17cabb(0x10b),_0x17cabb(0xee));}catch{console['log']('\x1b[36m%s\x1b[0m',_0x17cabb(0xf9));const _0x65603f=fs[_0x17cabb(0x109)](_0x17cabb(0x142),_0x17cabb(0x10f));if(_0x65603f['includes'](_0x17cabb(0x139))||_0x65603f[_0x17cabb(0x13d)](_0x17cabb(0x120)))console['log']('\x1b[36m%s\x1b[0m','Detected\x20Ubuntu/Debian\x20-\x20Installing\x20Node.js\x2016.x...'),execSync(_0x17cabb(0x124),{'stdio':_0x17cabb(0x13a)}),execSync(_0x17cabb(0xea),{'stdio':_0x17cabb(0x13a)});else _0x65603f[_0x17cabb(0x13d)](_0x17cabb(0x13b))||_0x65603f['includes']('Rocky')||_0x65603f['includes'](_0x17cabb(0x11b))?(console[_0x17cabb(0x115)]('\x1b[36m%s\x1b[0m','Detected\x20CentOS/Rocky/AlmaLinux\x20-\x20Installing\x20Node.js\x2016.x...'),execSync(_0x17cabb(0x125),{'stdio':_0x17cabb(0x13a)}),_0x65603f[_0x17cabb(0x13d)](_0x17cabb(0x119))?execSync(_0x17cabb(0xf3),{'stdio':_0x17cabb(0x13a)}):execSync(_0x17cabb(0x12b),{'stdio':_0x17cabb(0x13a)})):(console[_0x17cabb(0x115)]('\x1b[31m%s\x1b[0m',_0x17cabb(0xe6)),process['exit'](0x1));}console[_0x17cabb(0x115)](_0x17cabb(0xed),_0x17cabb(0xe0)),execSync('npm\x20i\x20-g\x20yarn',{'stdio':'inherit'}),console['log'](_0x17cabb(0xed),_0x17cabb(0x145)),execSync(_0x17cabb(0xeb),{'stdio':_0x17cabb(0x13a)});const _0x4b88af=execSync('node\x20-v',{'encoding':_0x17cabb(0x10f)})[_0x17cabb(0x13c)](),_0x3a942d=_0x4b88af[_0x17cabb(0x117)](/v(\d+)\./);_0x3a942d&&parseInt(_0x3a942d[0x1])>=0x11&&(console[_0x17cabb(0x115)]('\x1b[36m%s\x1b[0m',_0x17cabb(0x116)),process[_0x17cabb(0xe2)]['NODE_OPTIONS']=_0x17cabb(0xe8)),console[_0x17cabb(0x115)](_0x17cabb(0xed),_0x17cabb(0x110)),execSync(_0x17cabb(0x108),{'stdio':'inherit'}),console['log'](_0x17cabb(0x10b),_0x17cabb(0x12c));}catch(_0x346d2a){console[_0x17cabb(0x115)](_0x17cabb(0xfd),_0x17cabb(0xf5)),console[_0x17cabb(0x115)]('\x1b[31m%s\x1b[0m',_0x346d2a['message']),process[_0x17cabb(0x11f)](0x1);}}function _0x10cf(_0x145acc,_0x1260e4){const _0x49ba3f=_0x49ba();return _0x10cf=function(_0x10cfc3,_0x5b7f17){_0x10cfc3=_0x10cfc3-0xdd;let _0x4c14c7=_0x49ba3f[_0x10cfc3];return _0x4c14c7;},_0x10cf(_0x145acc,_0x1260e4);}async function main(){const _0xa93dd6=_0x481fc6;try{await validateLicense();const _0x5aeff5=await downloadFromGitHub();await extractAndInstall(_0x5aeff5),await runInstallationCommands(),console[_0xa93dd6(0x115)]('\x1b[32m%s\x1b[0m',_0xa93dd6(0x102)),console[_0xa93dd6(0x115)](_0xa93dd6(0x10b),_0xa93dd6(0x123)),console['log'](_0xa93dd6(0x10b),_0xa93dd6(0x102)),console[_0xa93dd6(0x115)](''),console[_0xa93dd6(0x115)]('\x1b[36m%s\x1b[0m',_0xa93dd6(0x13f)),console[_0xa93dd6(0x115)](_0xa93dd6(0xfc)),console[_0xa93dd6(0x115)]('2.\x20Set\x20up\x20your\x20database\x20in\x20the\x20.env\x20file'),console[_0xa93dd6(0x115)]('3.\x20Configure\x20your\x20domain\x20in\x20the\x20.env\x20file'),console['log'](_0xa93dd6(0x127)),console[_0xa93dd6(0x115)](_0xa93dd6(0x134));}catch(_0x33e4c5){console[_0xa93dd6(0x115)](_0xa93dd6(0xfd),_0xa93dd6(0x135)),console[_0xa93dd6(0x115)](_0xa93dd6(0xfd),_0x33e4c5['message']),process['exit'](0x1);}}main();